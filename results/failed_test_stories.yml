version: "3.1"
stories:
- story: mild distress during reporting (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: express_distress
  - action: action_validate_distress_level
  - action: utter_distress_mild  # predicted: action_default_fallback
  - action: utter_ask_incident_type
- story: moderate distress with grounding offer (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: express_distress
  - action: action_validate_distress_level
  - action: utter_distress_moderate  # predicted: action_default_fallback
  - action: action_grounding_exercise
  - action: utter_continue_options
- story: severe distress with resource redirect (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: express_distress
  - action: action_validate_distress_level
  - action: utter_distress_severe  # predicted: action_default_fallback
  - action: utter_provide_resources
  - action: utter_offer_break
- story: crisis detection and response (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: express_distress
  - action: action_validate_distress_level
  - action: utter_crisis_response  # predicted: action_default_fallback
  - action: action_stay_with_user
  - action: utter_panic_support  # predicted: utter_stay_with_user
  - action: utter_self_care_prompt
- story: urgent but not immediate (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: report_emergency
  - action: action_validate_emergency
  - action: utter_urgent_support  # predicted: utter_emergency_response
  - action: utter_provide_resources
- story: user stops reporting mid-flow (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: stop_reporting
  - action: utter_stop_reporting
  - action: action_save_progress  # predicted: action_listen
  - action: utter_save_progress
- story: user needs clarification (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: clarify
  - action: utter_explain_question
  - action: action_repeat_question  # predicted: action_listen
- story: user confused about incident type (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: clarify
  - action: utter_explain_incident_types  # predicted: utter_explain_question
  - action: utter_ask_incident_type
- story: user unsure about location details (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: clarify
  - action: utter_explain_location_purpose  # predicted: utter_explain_question
  - action: utter_ask_location
- story: request counselling resources (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: request_resources
  - action: action_provide_targeted_resources  # predicted: utter_ask_resource_type
  - action: utter_provide_resources
- story: returning user session expired (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: continue_report
  - action: utter_session_expired  # predicted: utter_offer_continue
  - action: utter_consent_onboarding
- story: user returns after break (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: greet
  - action: utter_greet  # predicted: action_generate_user_id
  - intent: continue_report
  - action: utter_offer_continue
  - action: action_restore_session
- story: distress then skip then continue (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: express_distress
  - action: utter_distress_mild  # predicted: action_validate_distress_level
  - intent: skip_question
  - action: utter_skip_question
  - intent: provide_incident_details
  - action: utter_ask_location
- story: emergency then resources (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: report_emergency
  - action: utter_emergency_response  # predicted: action_validate_emergency
  - intent: request_resources
  - action: utter_provide_resources
- story: stay with user after crisis (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: express_distress
  - action: action_validate_distress_level
  - action: utter_crisis_response  # predicted: action_default_fallback
  - action: action_stay_with_user
  - action: utter_stay_with_user
  - action: utter_light_topic_offer
- story: offer light topic during distress (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: express_distress
  - action: action_validate_distress_level
  - action: utter_distress_severe  # predicted: action_default_fallback
  - action: utter_light_topic_offer  # predicted: utter_provide_resources
  - action: utter_chitchat
- story: complete reporting happy path (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: greet
  - action: action_generate_user_id
  - action: utter_greet
  - intent: start_report
  - action: utter_consent_onboarding
  - intent: affirm
    entities:
    - user_consent: true
  - slot_was_set:
    - user_consent: true
  - action: utter_ask_incident_type
  - intent: provide_incident_details
  - action: utter_ask_location
  - intent: provide_location
  - action: utter_ask_timeframe
  - intent: provide_timeframe
  - action: utter_ask_perpetrator
  - intent: describe_perpetrator
  - action: action_submit_report
  - action: utter_confirm_report_submission
  - action: utter_feedback_request  # predicted: action_listen
- story: report start checkpoint > complete reporting happy path (C:\Projects\Vee\data\stories.yml)
  steps:
  - intent: start_report
  - action: utter_consent_onboarding
  - intent: affirm
    entities:
    - user_consent: true
  - slot_was_set:
    - user_consent: true
  - action: utter_ask_incident_type
  - intent: provide_incident_details
  - action: utter_ask_location
  - intent: provide_location
  - action: utter_ask_timeframe
  - intent: provide_timeframe
  - action: utter_ask_perpetrator
  - intent: describe_perpetrator
  - action: action_submit_report
  - action: utter_confirm_report_submission
  - action: utter_feedback_request  # predicted: action_listen
